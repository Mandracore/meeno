
@import 'nib'

// J : tag
// T : croix
// I : poubelle
// V : editer
// r : editer

global-reset()
reset-html5()

cBgGrey            = lighten(#000000, 20%)
cObjectBorder0     = rgba(255, 255, 255, .3)
cObjectBorder1     = rgba(255, 255, 255, .4)
cObjectBg1         = rgba(255, 255, 255, .08)
cObjectBg2         = rgba(255, 255, 255, .11)
cButtonColor       = rgba(255, 255, 255, 0.5)
cButtonColorO      = rgba(255, 255, 255, 0.4)
cButtonColor1      = rgba(255, 255, 255, 0.8)
cButtonBorder0     = rgba(255, 255, 255, .3)
cButtonBorder1     = rgba(255, 255, 255, .6)
cButtonBorder2     = rgba(255, 255, 255, .8)
cButtonBg1         = rgba(255, 255, 255, .1)
cButtonBg2         = rgba(255, 255, 255, .3)
cButtonIcon0       = rgba(255, 255, 255, .5)
cButtonIcon1       = rgba(255, 255, 255, .7)
cButtonIcon2       = rgba(255, 255, 255, .9)
cButtonActive      = rgba(255, 255, 255, 1)
cButtonMilestone0  = rgba(255, 255, 255, .1);
cButtonMilestone05 = rgba(255, 255, 255, .5);
cButtonMilestone1  = rgba(255, 255, 255, 1);
cInputBg0          = rgba(0, 0, 0, 0.2);
cInputBg1          = rgba(0, 0, 0, 0.3);

@font-face
	font-family "modernpics"
	src url("../font/modernpics.otf")
	
@font-face
	font-family "dense"
	src url("../font/Dense-Regular.otf")

html
	width 100%
	height 100%
	overflow hidden
	background-color cBgGrey
	font-size 16px
	
body
	margin 0 auto
	width 100%
	height 100%
	position relative
	background none

body 
	background-image url('../images/bg.jpg')

.red
	background-color red
	opacity .8

.green
	background-color green
	opacity .8

.white
	background-color white
	opacity .8
	
#main, #main > .content > .browser, #main > .content > .browser > .tab
	height 100%
	& > .content
		height calc(100% - 3em)

/*===================================================================================
------- MAIN NAVIGATION --------------------------------------------------------------
=====================================================================================*/

// Hacks for mobile design
@media screen and (max-width: 768px) // to detect mobile phones
	.navigation
		width 3em
		height 3em
		overflow hidden
		.command
			margin auto
			.close
				display none
			.open
				display block
				height 3em
				width 3em
				background-color cInputBg0
				border none
				font-size 1em
				span
					font-size 1.5em
		&.active
			width 75%
			z-index 1
			position absolute
			height 100%
			.command
				.close
					display block
					width 3em
					height 3em
				.open
					display none

// For other displays


/*===================================================================================
------- BROWSER DESIGN --------------------------------------------------------------
=====================================================================================*/

// For classic displays
.search-box
	display table
	width 100%
	height 3em
	background-color cInputBg0
	color rgba(255, 255, 255, 0.5)
	margin 1em 0px 0.5em
	& > div
		display table-cell
		vertical-align middle		
	.looking-glass
		width 1.7em
		padding 0 0 .2em .7em
		font-size 1.2em
	.tags
		width 1%
		white-space nowrap
		button
			border-radius 20px
			border 1px solid cButtonBorder0
			background-color transparent
			margin 0 .4em 0 0
			padding .2em .7em
			color cButtonColor
			&:hover
				background-color cButtonBg1
				cursor pointer
				text-decoration	line-through
				border 1px solid cButtonBorder1
			&:active
				border 1px solid cButtonBorder2
				background-color cButtonBg2
				color white
	.input
		input
			width 100%
			background-color transparent
			border none
			color white
	.reset
		width 5em
		button
			padding 0px
			margin 0px
			width 100%
			text-align right
			background-color transparent
			border medium none
			color cButtonColor
			span
				margin 0 1em 0 .6em
			&:hover
				cursor pointer
				color cButtonColor1
			&:active
				color white
.listobjects
	display none
	&.selected
		display block
		height calc(100% - 3em)
	.milestones
		display block
		height 3em
		padding .5em 0
		text-overflow ellipsis
		overflow hidden
		white-space nowrap
		li
			display inline-block
			color cButtonMilestone0
			text-transform uppercase
			letter-spacing .05em
			font-family Dense
			font-size 2em
			&:hover
				color cButtonMilestone05
				cursor pointer
			&:active, &.active
				color cButtonMilestone1
	.filter-checked
		padding .8em 0
		button
			float right
			display none
			&.active
				display block
				padding 0.1em 0.8em
				font-size 0.7em
				border 1px solid cButtonBorder0
				border-radius 1em
				background-color transparent
				color cButtonColor
				text-transform uppercase
			&:hover
				border 1px solid cButtonBorder1
				background-color cButtonBg1
				cursor pointer
			&:active
				border 1px solid cButtonBorder2
				background-color cButtonBg2
				color white
	.objects
		display block
		height calc(100% - 1em)
		overflow auto
		li.add
			display table
			& > div
				display table-cell
				vertical-align middle
			& > div:first-child
				width 1%
				white-space nowrap
				span
					margin 0 .6em 0 1em
					opacity .5
			.buttons
				width 1%
				white-space nowrap
				button
					border none
					background-color transparent
					color cButtonColorO
					margin 0 1em 0 0
					padding 0
					span
						margin 0 0 0 .6em
					&:hover
						cursor pointer
						color cButtonColor1
					&:active
						color white
						
			.input
				input
					width 100%
					background-color transparent
					border none
					color white
		li
			height 3em
			color white
			font-family Helvetica
			&.add
				border none
				background-color cInputBg0
				&:hover
					border none
					background-color cInputBg1
			&.task
				border-left 1px solid cObjectBorder0
				border-right 1px solid cObjectBorder0
				border-bottom 1px solid cObjectBorder0
			&:nth-child(2)
				border-top 1px solid cObjectBorder0
			.content
				display table
				width 100%
				height 100%
				& > div
					display table-cell
					vertical-align middle
				.due
					padding 0 .5em
					width 2em
					opacity 0.3
					text-align center
					&:hover
						cursor pointer
					&.urgent
						opacity 1
					&.veryurgent
						opacity 1
						color orange
					.day
						display block
						font-size .9em
						font-weight bold
					.month
						display block
						text-transform uppercase
						font-size 0.7em
				.label
					max-width 1em
					.text
						overflow hidden
						white-space nowrap
						text-overflow ellipsis
				.tags
					width 1%
					white-space nowrap
					padding 0 .8em
					button
						color white
						background-color transparent
						border none
						padding 0 0 0 .5em
						span
							display inline-block
							opacity .5
							width .8em
							height .8em
							border 1px solid white
							margin 0 .5em 0 0
							border-radius 1em
						&:hover
							text-decoration line-through
							cursor pointer
							span
								opacity .8
						&:active
							span
								opacity 1							
				.expand
					display none
			&:hover, &.active
				position relative
				background-color cObjectBg1
				.content
					width calc(100% - 3em)
					margin 0 0 0 3em
					.due
						display none
					.label
						padding 0 0 0 1em
					.expand
						display table-cell
						width 3em
						text-align center
						button
							border none
							background-color transparent
							color white
					.tags
						display none
					&:hover
						background-color cObjectBg1
						cursor pointer
					&:active
						background-color cObjectBg2
				.check
					display block
					position absolute
					top 0
					left 0
					width 3em
					height 3em
					text-align center
					border-right 1px solid cObjectBorder0
					&:hover
						cursor pointer
						background-color cObjectBg1
					&:active
						background-color cObjectBg2
					button
						display block
						height 100%
						width 100%
						border none
						background-color transparent
						color white
						&:hover
							cursor pointer
			.check
				display none
			/*&:hover
				.check
					display initial*/

/*
		li
			.content
				height 3em
				.labelandtags
					display inline-block
					width calc(100% - 2.7em) // 2.3 = padding + width of block "due"
					height 100%
					line-height 3em
					.tags
						text-align right
					.label
						text-overflow ellipsis
						overflow hidden
						white-space nowrap
					.expand
						display none
			.actions
				display none
				cursor pointer
			&:hover, &.active // active is just a testing trick
				background-color cObjectBg1
				border-left 1px solid cObjectBorder1
				border-right 1px solid cObjectBorder1
				border-bottom 1px solid cObjectBorder1
				&:nth-child(2)
					border-top 1px solid cObjectBorder1
				.actions
					display inline-block
					height 100%
					line-height 3em
					float right
					width 3em
					border-left 1px solid cObjectBorder1
					&:hover
						background-color cObjectBg2
					button
						border none
						background-color transparent
						margin 0 auto
						display block
						height 3em
						width 100%
						padding 0
						color cButtonIcon0
						&:hover
							cursor pointer
						&:active
							color cButtonActive
				.content
					display inline-block
					width calc(100% - 3em - 2px)
					.labelandtags
						.tags
							display none
						.label
							width calc(100% - 3em)
						.expand
							display inline-block
							float right
							width 3em
							text-align center
							height 100%
							button
								border none
								width 100%
								height 100%
								display block
								background-color transparent
								color cButtonIcon0
								&:hover
									cursor pointer
								&:active
									color cButtonActive
					&:hover
						background-color cObjectBg2
						
*/

//--------------------------------------------------------------------------
// Hacks for mobile design
@media screen and (max-width: 768px) // to detect mobile phones
	#main
		height 100%
		& > .content
			height calc(100% - 3em)
	.search-box
		width calc(100% - 3em + 20px)
		position relative
		top -4em
		left calc(3em - 10px)
	.listobjects
		position relative
		top -3em